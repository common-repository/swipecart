!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Swipecart=e()}(this,function(){"use strict";class t{all(){let t=document.cookie.split(";");return t.map(function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}).forEach(function(e){var i=e.split("="),s=i[0],o=null;i.length>1&&(o=i.slice(1).join("")),t[s]=o},document.cookie),t}set(t,e,i){let s=new Date;s.setTime(s.getTime()+864e5*i);let o="expires="+s.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"}get(t){return this.all()[t]||!1}destroy(t){this.set(t,"",-1)}isset(t){return!!this.get(t)}}class e{constructor(t){this.siteURL=t}queryParams(){return JSON.parse('{"'+decodeURI(this.siteURL.split("?")[1]).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}fetchData(t,e,i,s){let o={};o.method=e.method||"GET",o.cache="force-cache",o.mode="cors","POST"===e.method&&(o.body=JSON.stringify(i));try{fetch(this.siteURL+t,o).then(async t=>{var e=await t.json();s(e)}).catch(t=>{})}catch(n){}}}class i{constructor(){this.siteURL="https://rentechassets.s3.amazonaws.com/swipecart/",this.cookie="swipecart-pu-hide",this.style={type:1,mobile_app_deep_link:null,html:{desktop:null,mobile:null},show:{desktop:!0,mobile:!0,timeout:1},data:{position:"bottom-left",positionD:"bottom-left",section:{img:{src:null},title:{main:null,sub:"Download our mobile app"},btn:{text:"GET",src:null}}}},this.position={},this.defaultStyle()}defaultStyle(t={}){try{this.style.type=t.type}catch{this.style.type=1}try{this.style.show.desktop=t.show.desktop}catch{this.style.show.desktop=!0}try{this.style.show.mobile=t.show.mobile}catch{this.style.show.mobile=!0}try{this.style.show.timeout=t.show.timeout}catch{this.style.show.timeout=1}try{this.style.data.position=t.data.position}catch{this.style.data.position="bottom-left"}try{this.style.data.section.img.src=t.data.section.img.src}catch{this.style.data.section.img.src=""}try{this.style.mobile_app_deep_link=t.mobile_app_deep_link}catch{this.style.mobile_app_deep_link=null}try{this.style.data.section.title.main=t.data.section.title.main}catch{this.style.data.section.title.main=""}try{this.style.data.section.title.sub=t.data.section.title.sub}catch{this.style.data.section.title.sub="Download our mobile app"}try{this.style.data.section.btn.text=t.data.section.btn.text}catch{this.style.data.section.btn.text="GET"}try{this.style.data.section.btn.src=t.data.section.btn.src}catch{this.style.data.section.btn.src=this.style.mobile_app_deep_link}try{this.style.html.desktop=t.html.desktop}catch{this.style.html.desktop=null}try{this.style.html.mobile=t.html.mobile}catch{this.style.html.mobile=null}this.style.data.section.btn.src||(this.style.data.section.btn.src=this.style.mobile_app_deep_link)}isDevice(t){let e=window.innerWidth;return t=t||"desktop",!!(e>=991)&&"desktop"==t||!!(e<991)&&!!(e>767)&&"tablet"==t||!!(e<=767)&&"mobile"==t}showPopup(){let i="banners/"+function t(){let i="",s,o,n;try{i=Shopify.shop}catch{o=(s=document.getElementsByTagName("script"))[s.length-1].src,i=(n=new e(o)).queryParams().shop}return i.replace(/(^\w+:|^)\/\//,"").replace(/\/$/,"")}()+".json?timestamp="+Date.now();if(new t().isset(this.cookie))return!1;new e(this.siteURL).fetchData(i,{"Content-Type":"application/json"},{},t=>{if(this.defaultStyle(t),!1===this.style.show.desktop&&!1===this.style.show.mobile||!this.style.data.section.title.main||!this.style.data.section.img.src||!this.style.data.section.btn.src)return!1;this.renderPopup()})}retrivePosition(t){let[e,i]=t.split("-");i=this.isDevice("mobile")?"center":i,this.position.transform="","top"==e?this.position.top="0":"bottom"==e?this.position.bottom="0":"center"==e&&(this.position.top="50%",this.position.transform+="translateY(-50%) "),"left"==i?this.position.left="0":"right"==i?this.position.right="0":"center"==i&&(this.position.left="50%",this.position.transform+="translateX(-50%)")}renderPopup(){this.retrivePosition(this.style.data.position);let t="";t+=this.position.top?"top:"+this.position.top+";":"",t+=this.position.bottom?"bottom:"+this.position.bottom+";":"",t+=this.position.right?"right:"+this.position.right+";":"",t+=this.position.left?"left:"+this.position.left+";":"";let e=`<style type="text/css">.swipecart-modal .sc-modal{position:fixed;margin:auto;opacity:0;visibility:hidden;width:max-content;z-index: 9999;${t+=this.position.transform?"transform:"+this.position.transform+";":""}font-family:Arial,sans-serif}.swipecart-modal .btn-show:checked ~ .sc-modal{opacity:1;visibility:visible}.swipecart-modal .modal-body{transform:scale(0);transition: 0.2s all}.swipecart-modal .btn-show:checked ~ .sc-modal .modal-body{transform: scale(1)} @media(min-width:1200px){.swipecart-modal{display:none}} </style>`,i='<style type="text/css">.swipecart-modal-new{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647;border:none;pointer-events:none;font-family:Arial,sans-serif}.qr-code-infosection.qr-code-infosection-fix .qr-pop-up-iner{cursor:pointer;z-index:1}.qr-code-infosection.qr-code-infosection-fix{width:100%;height:100%}.qr-code-infosection .qr-pop-up-iner .qr-code-infosection-btn{box-shadow:0 4px 20px rgb(0 0 0 / 15%);border-radius:100px;padding:12px 16px;text-transform:uppercase;cursor:pointer;font-weight:700;font-size:14px;border:none;pointer-events:all;display:flex;align-items:center;line-height:24px;box-sizing:border-box;position:relative}.qr-code-infosection .qr-pop-up-iner .qr-code-infosection-btn img{width:24px;margin-right:8px;box-sizing:border-box}.qr-code-infosection.qr-code-infosection-fix .qr-pop-up-iner .qr-code-infosection-ctr{transform:translate3d(0,12px,0) scale3d(.98,.98,1) rotateY(0) rotateZ(0) skew(0deg,0deg);transform-style:preserve-3d;opacity:0;perspective:calc(480px * var(--scale));perspective-origin:50% 60%;transition:transform .3s;transform-style:preserve-3d;max-width:calc(240px * var(--scale));border-top:16px solid transparent;border-bottom:16px solid transparent}.qr-code-infosection.qr-code-infosection-fix .qr-pop-up-iner:hover .qr-code-infosection-ctr{transform:translate3d(0,0,0) scale3d(1,1,1) rotateZ(0) skew(0deg,0deg);transform-style:preserve-3d;opacity:1;pointer-events:all}.qr-code-infosection-ctr .ctr-qr-inr-dtls{display:flex;flex-direction:column;padding:calc(20px * var(--scale));border-radius:11px;text-decoration:none}.qr-code-infosection-ctr .ctr-qr-inr-dtls span{font-size:calc(22px * var(--scale));line-height:calc(28px * var(--scale));font-weight:700;text-transform:uppercase;text-align:left;word-break:break-word;font-family:Arial,sans-serif}.ctr-qr-inr-dtls #qr-code-img{background-color:#fff;text-align:center;margin-top:15px;padding:25px;display:flex;align-items:center;justify-content:center;}.ctr-qr-inr-dtls #qr-code-img svg{width:200px !important;height:200px !important}.cust-overlay-mobile-popup{transition:0.3s all}.ctr-qr-inr-dtls bdi{font-size:15px;}@media (min-width:1200px){.qr-code-infosection.qr-code-infosection-fix{--scale:1.25}} @media(max-width:1200px){.swipecart-modal-new{display:none}}</style>',s=this.style.html.desktop,o=this.style.html.mobile;if(!0===this.style.show.desktop&&!0===this.style.show.mobile){var n=document.createElement("div");n.classList.add("swipecart-modal-new"),n.innerHTML=i+s,document.body.appendChild(n);var r=document.createElement("div");r.innerHTML=e+o,document.body.appendChild(r)}else if(!0===this.style.show.desktop){var n=document.createElement("div");n.classList.add("swipecart-modal-new"),n.innerHTML=i+s,document.body.appendChild(n)}else if(!0===this.style.show.mobile){var r=document.createElement("div");r.innerHTML=e+o,document.body.appendChild(r)}this.closePopup("modal-1-56-swipecart")}closePopup(e){document.querySelector(".swipecart-modal .btn-hide[name="+e+"]").addEventListener("change",e=>{e.currentTarget.checked&&new t().set(this.cookie,"1",this.style.show.timeout)})}}new class t{constructor(t){this.showPopup()}showPopup(){new i().showPopup()}}});